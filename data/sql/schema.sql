CREATE TABLE city (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, short_code VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX city_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE country (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, short_code VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX country_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE event (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, website VARCHAR(255), status VARCHAR(255) NOT NULL, type VARCHAR(255), industry_id BIGINT NOT NULL, organiser_id BIGINT NOT NULL, event_type_id BIGINT NOT NULL, country_id BIGINT NOT NULL, region_id BIGINT NOT NULL, city_id BIGINT NOT NULL, logo VARCHAR(255), event_start datetime, event_end datetime, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX event_sluggable_idx (slug), INDEX industry_id_idx (industry_id), INDEX country_id_idx (country_id), INDEX city_id_idx (city_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE event_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, short_code VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX event_type_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE industry (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, short_code VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX industry_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE organiser (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, short_code VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX organiser_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE region (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, short_code VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX region_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE event ADD CONSTRAINT event_industry_id_industry_id FOREIGN KEY (industry_id) REFERENCES industry(id);
ALTER TABLE event ADD CONSTRAINT event_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id);
ALTER TABLE event ADD CONSTRAINT event_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id);
